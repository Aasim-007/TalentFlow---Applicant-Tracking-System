<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Schedule Interview — TalentFlow</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        :root{ --bg-dark-top:#071428; --bg-dark-bottom:#0b2340; --bg-light-top:#f6f9fc; --bg-light-bottom:#e9f0f6; --card-bg-dark:rgba(255,255,255,0.02); --text-dark:#e9f3ff; --text-light:#0b1220; --muted-dark:#9aa7bb; --muted-light:#5b6b78; --accent1:#60a5fa; --accent2:#6ee7b7; --danger:#e55353; --radius:12px; --shadow:0 12px 30px rgba(2,8,23,0.16); font-family:Inter,ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial; }
        html,body{height:100%;margin:0;padding:0}
        body{ --text:var(--text-dark); --muted:var(--muted-dark); background:linear-gradient(180deg,var(--bg-dark-top) 0%,var(--bg-dark-bottom) 100%); background-attachment:fixed; background-size:cover; min-height:100vh; color:var(--text); padding:26px; -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale; box-sizing:border-box; transition:background .22s ease,color .18s ease; line-height:1.35; }
        body.theme-light{ --text:var(--text-light); --muted:var(--muted-light); background:linear-gradient(180deg,var(--bg-light-top) 0%,var(--bg-light-bottom) 100%); background-attachment:fixed!important; background-size:cover!important; min-height:100vh!important; }
        body:not(.theme-light){ color-scheme:dark; }
        *{box-sizing:border-box}
        .wrap{ max-width:980px; margin:0 auto; }
        header{ display:flex; align-items:center; justify-content:space-between; gap:12px; margin-bottom:20px; }
        .title{ display:flex; flex-direction:column; gap:4px; }
        .title h1{ margin:0; font-size:22px; font-weight:700; }
        .hint{margin:0;color:var(--muted);font-size:14px}
        .card{ background:color-mix(in srgb,var(--text) 3%,transparent); border-radius:var(--radius); padding:20px; margin-bottom:14px; box-shadow:var(--shadow); border:1px solid rgba(0,0,0,0.03); }
        .theme-control{ display:flex; align-items:center; gap:10px; cursor:pointer; user-select:none; }
        .toggle{ --w:56px; --h:30px; width:var(--w); height:var(--h); border-radius:999px; background:rgba(255,255,255,0.06); display:inline-block; position:relative; padding:0; transition:background .18s ease; }
        .toggle .knob{ position:absolute; top:50%; left:4px; width:22px; height:22px; border-radius:50%; background:#fff; box-shadow:0 6px 16px rgba(2,8,23,0.22); transform:translateY(-50%); transition:left .22s ease,background .22s ease,box-shadow .22s ease; }
        body.theme-light .toggle{ background:rgba(0,0,0,0.08); }
        body.theme-light .toggle .knob{ left:calc(100% - 4px - 22px); background:#111827; }
        .toggle .icon{ width:16px; height:16px; opacity:.85; position:absolute; top:50%; transform:translateY(-50%); pointer-events:none; }
        .toggle .left{ left:10px; }
        .toggle .right{ right:10px; }
        .muted{ color:var(--muted); font-size:13px; }
        .jobs, .applicants{ display:grid; gap:10px; }
        .job-item, .applicant-item{ padding:14px; border-radius:10px; border:1px solid rgba(0,0,0,0.06); background:rgba(255,255,255,0.02); cursor:pointer; transition:all .18s ease; }
        .job-item:hover, .applicant-item:hover{ transform:translateY(-1px); box-shadow:0 8px 20px rgba(2,8,23,0.14); border-color:rgba(96,165,250,0.45); }
        .badge{ padding:6px 10px; border-radius:999px; font-size:12px; font-weight:700; }
        .b-under_review{ background:rgba(234,179,8,0.18); color:#f59e0b; border:1px solid rgba(234,179,8,0.35); }
        .b-shortlisted{ background:rgba(16,185,129,0.18); color:#22c55e; border:1px solid rgba(16,185,129,0.35); }
        .b-interview_invite{ background:rgba(168,85,247,0.18); color:#a855f7; border:1px solid rgba(168,85,247,0.35); }
        .form-section{ display:none; }
        .form-section.active{ display:block; }
        .form-group{ margin-bottom:16px; }
        .form-group label{ display:block; font-weight:600; margin-bottom:6px; font-size:14px; color:var(--text); }
        .form-group input, .form-group textarea, .form-group select{ width:100%; padding:12px; border-radius:8px; border:1px solid rgba(0,0,0,0.12); background:rgba(255,255,255,0.04); color:var(--text); font-size:14px; font-family:inherit; }
        body.theme-light .form-group input, body.theme-light .form-group textarea, body.theme-light .form-group select{ background:rgba(0,0,0,0.04); border-color:rgba(0,0,0,0.12); }

        /* Better dropdown styling (from add-job.html) */
        select.form-control, #interviewDuration{ appearance:none; -webkit-appearance:none; -moz-appearance:none; padding:12px 14px; padding-right:36px; border-radius:10px; font-size:14px; line-height:1.25; cursor:pointer; border:1px solid rgba(255,255,255,0.15); background:#10243d; color:var(--text); }
        body.theme-light select.form-control, body.theme-light #interviewDuration{ background:#ffffff; border:1px solid rgba(0,0,0,0.12); color:var(--text-light); }
        select.form-control option, #interviewDuration option{ padding:8px; }
        body:not(.theme-light) select.form-control option, body:not(.theme-light) #interviewDuration option{ background:#0d1c31; color:var(--text-dark); }
        body.theme-light select.form-control option, body.theme-light #interviewDuration option{ background:#ffffff; color:var(--text-light); }

        .form-row{ display:grid; grid-template-columns:1fr 1fr; gap:12px; }
        .btn{ padding:12px 24px; border-radius:8px; border:none; font-weight:600; cursor:pointer; font-size:14px; }
        .btn-primary{ background:linear-gradient(90deg,var(--accent2),var(--accent1)); color:#022027; }
        .btn-secondary{ background:rgba(255,255,255,0.08); color:var(--text); border:1px solid rgba(255,255,255,0.12); }
        .back-btn{ display:inline-flex; align-items:center; gap:8px; padding:8px 14px; margin-bottom:16px; border-radius:8px; text-decoration:none; color:var(--text); border:1px solid rgba(96,165,250,0.25); background:rgba(96,165,250,0.08); font-weight:600; font-size:14px; transition:all .18s ease; }
        .back-btn:hover{ border-color:rgba(96,165,250,0.45); background:rgba(96,165,250,0.14); }
        .center{ text-align:center; color:var(--muted); padding:20px; }

        /* Better message styling */
        #msg{ display:none; margin-bottom:20px; padding:14px 18px; border-radius:10px; font-size:14px; font-weight:600; text-align:center; }
        #msg.error{ display:block; background:rgba(229,83,83,0.12); color:var(--danger); border:1px solid rgba(229,83,83,0.25); }
        #msg.success{ display:block; background:rgba(110,231,183,0.12); color:var(--accent2); border:1px solid rgba(110,231,183,0.25); }

        @media (max-width:720px){ body{padding:14px;} .card{padding:16px;} .form-row{grid-template-columns:1fr;} }
    </style>
</head>
<body>
<div class="wrap">
    <header>
        <div class="title">
            <h1>Schedule Interview</h1>
            <p class="hint">Select a job and applicant to schedule an interview</p>
        </div>
        <div class="theme-control" id="themeControl" role="button" tabindex="0" aria-pressed="false" aria-label="Toggle theme">
            <span id="themeLabel" class="muted">Dark Mode</span>
            <div class="toggle" aria-hidden="true">
                <svg class="icon left" viewBox="0 0 24 24" fill="none"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z" fill="currentColor"/></svg>
                <div class="knob" aria-hidden="true"></div>
                <svg class="icon right" viewBox="0 0 24 24" fill="none"><g fill="currentColor"><circle cx="12" cy="12" r="3.25"/><path d="M12 2v1.8M12 20.2V22M4.93 4.93l1.27 1.27M17.8 17.8l1.27 1.27M2 12h1.8M20.2 12H22M4.93 19.07l1.27-1.27M17.8 6.2l1.27-1.27" stroke="currentColor" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"/></g></svg>
            </div>
        </div>
    </header>

    <section id="jobsSection" class="card form-section active">
        <h2 style="margin:0 0 16px 0;font-size:18px;font-weight:700;">Step 1: Select a Job</h2>
        <div id="jobsContainer" class="jobs">
            <div class="center">Loading jobs…</div>
        </div>
    </section>

    <section id="applicantsSection" class="card form-section">
        <a href="#" class="back-btn" id="backToJobs">
            <span>←</span>
            <span>Back to Jobs</span>
        </a>
        <h2 style="margin:0 0 16px 0;font-size:18px;font-weight:700;">Step 2: Select an Applicant</h2>
        <div id="applicantsContainer" class="applicants">
            <div class="center">Loading applicants…</div>
        </div>
    </section>

    <section id="interviewFormSection" class="card form-section">
        <a href="#" class="back-btn" id="backToApplicants">
            <span>←</span>
            <span>Back to Applicants</span>
        </a>
        <h2 style="margin:0 0 16px 0;font-size:18px;font-weight:700;">Step 3: Interview Details</h2>
        <div id="msg" class="center" style="display:none"></div>
        <form id="interviewForm">
            <div class="form-row">
                <div class="form-group">
                    <label>Interview Date</label>
                    <input type="date" id="interviewDate" required />
                </div>
                <div class="form-group">
                    <label>Interview Time</label>
                    <input type="time" id="interviewTime" required />
                </div>
            </div>
            <div class="form-group">
                <label>Duration</label>
                <select id="interviewDuration" class="form-control" required>
                    <option value="">Select duration</option>
                    <option value="30">30 minutes</option>
                    <option value="60">1 hour</option>
                    <option value="90">1.5 hours</option>
                    <option value="120">2 hours</option>
                </select>
            </div>
            <div class="form-group">
                <label>Location / Meeting Link</label>
                <input type="text" id="interviewLocation" placeholder="e.g., Conference Room A or Zoom link" required />
            </div>
            <div class="form-group">
                <label>Notes (optional)</label>
                <textarea id="interviewNotes" rows="3" placeholder="Additional instructions or requirements"></textarea>
            </div>
            <div style="display:flex; gap:12px; flex-wrap:wrap;">
                <button type="submit" class="btn btn-primary">Schedule Interview</button>
                <button type="button" class="btn btn-secondary" id="cancelBtn">Cancel</button>
            </div>
        </form>
    </section>
</div>

<script src="schedule-interview.js"></script>
</body>
</html>

